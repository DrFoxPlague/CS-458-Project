# SCALARS AND INPUTS
# ------
scalar Date
scalar Media

input ExhibitContentInput {
    title: String
    body: String
    media: Media
}

input QuestionInput {
    question: String
    choices: [String]
    answer: String
}
# ------


# User Schemas
type User {
    id: ID!
    name: String!
    email: String!
    address: String!
    grade: String!
    dob: Date!
    bdg_coll: [Badge]!
}

type Staff {
    id: ID!
    name: String!
    email: String!
    phone_num: String!
}

# Badge Schemas
type Badge {
    id: ID!
    bdg_name: String!
    bdg_type: String!
}

# Exhibit Schemas
type ExhibitContent {
    title: String
    body: String
    image: String
    audio: String
    video: String
}

type Exhibit {
    id: ID!
    ex_name: String!
    content: ExhibitContent!
}

# Game Schemas - NEEDS TO BE EXPANDED!!!
interface BaseGame {
    id: ID!
    game_name: String!
    game_type: String!
}

type TriviaGame implements BaseGame {
    id: ID!
    game_name: String!
    game_type: String!
    questions: [TriviaQuestion]!
}

type TriviaQuestion {
    id: ID!
    question: String!
    choices: [String]!
    answer: String!
}

union Game = TriviaGame     # use pipe operator to extend different game types

type Query {
    # User Queries
    getUser(id: ID!): User!
    getUsers: [User]!

    # Staff Queries
    getStaff(id: ID!): Staff!
    getStaffMembers: [Staff]!

    # Badge Queries
    getBadge(id: ID!): Badge!
    getBadges: [Badge]!

    # Exhibit Queries
    getExhibit(id: ID!): Exhibit!
    getExhibits: [Exhibit]!

    # Game Queries
    getGame(id: ID!): Game!
    getGames: [Game]!
}


type Mutation {
    # User Mutations
    createUser(
        name: String!,
        email: String!,
        address: String!,
        grade: String!,
        dob: Date!,
        token: String!
    ): User!

    deleteUser(id: ID!): User!

    updateUser(
        id: ID!,
        name: String,
        email: String,
        address: String,
        grade: String,
        dob: Date
    ): User!

    # Staff Mutations
    createStaff(
        name: String!,
        email: String!,
        phone_num: String!
    ): Staff!
    
    deleteStaff(id: ID!): Staff!

    updateStaff(
        id: ID!,
        name: String,
        email: String,
        phone_num: String
    ): Staff!

    # Badge Mutations
    createBadge(bdg_name: String!, bdg_type: String!): Badge!

    deleteBadge(id: ID!): Badge!

    updateBadge(id: ID!, bdg_name: String, bdg_type: String): Badge!

    # Exhibit Mutations
    createExhibit(
        ex_name: String!,
        content: ExhibitContentInput!
    ): Exhibit!

    deleteExhibit(id: ID!): Exhibit!

    updateExhibit(
        id: ID!,
        ex_name: String,
        content: ExhibitContentInput
    ): Exhibit!

    # Game Mutations
    createGame(game_name: String!, game_type: String!): Game!

    deleteGame(id: ID!): Game!

    updateGame(id: ID!, game_name: String, game_type: String): Game!

    createTrivQues(
        input: QuestionInput!
    ): TriviaQuestion!

    deleteTrivQues(id: ID!): TriviaQuestion!

    updateTrivQues(
        id: ID!,
        input: QuestionInput
    ): TriviaQuestion!
}

# TO-DO:
#   - expand game schemas to accomodate different game types